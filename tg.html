<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Остров Осьминогов</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        margin: 0;
        font-family: "Montserrat", Arial, sans-serif;
        background: linear-gradient(
          to bottom,
          #f6e6c2 0%,
          #b3d1e6 60%,
          #4e6b8a 100%
        );
        min-height: 100vh;
        color: #222;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 0;
      }

      .header {
        margin-top: 24px;
        font-size: 2.5rem;
        font-weight: bold;
        color: #ffe600;
        text-shadow:
          2px 2px 0 #333,
          4px 4px 0 #000;
        letter-spacing: 2px;
        text-align: center;
        line-height: 1.1;
      }

      .art {
        margin: 24px 0 16px 0;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.18);
        width: 260px;
        max-width: 80vw;
      }

      .text-block {
        background: rgba(255, 255, 220, 0.95);
        border-radius: 10px;
        padding: 18px 16px;
        font-size: 0.8rem;
        margin-bottom: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        max-width: 350px;
        text-align: justify;
        hyphens: auto;
        text-justify: inter-word;
      }

      .choices {
        display: flex;
        flex-direction: column;
        gap: 14px;
        width: 100%;
        max-width: 350px;
        margin-bottom: 24px;
      }

      .choice-btn {
        background: linear-gradient(90deg, #ffe600 70%, #ffb600 100%);
        color: #222;
        font-weight: bold;
        font-size: 1.1rem;
        border: 2px solid #222;
        border-radius: 8px;
        padding: 14px 18px;
        box-shadow: 2px 2px 0 #333;
        cursor: pointer;
        transition:
          background 0.15s,
          transform 0.1s;
        text-align: left;
      }
      .choice-btn:hover {
        background: linear-gradient(90deg, #fff700 70%, #ffd600 100%);
        transform: translateY(-2px) scale(1.03);
      }

      .balance {
        margin-top: 4px;
        color: #222;
        font-size: 1rem;
        background: #fffbe6;
        border-radius: 7px;
        padding: 7px 13px;
        font-weight: bold;
        box-shadow: 1px 1px 0 #888;
        display: inline-block;
      }

      .user-info {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        padding: 10px;
        margin: 10px 0;
        text-align: center;
        font-size: 0.9rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="header">ОСТРОВ<br />ОСЬМИНОГОВ</div>
    
    <div id="userInfo" class="user-info">
      Загрузка данных пользователя...
    </div>
    
    <div class="art">
      <img
        src="https://i.imgur.com/2nK2WbJ.jpg"
        alt="Обложка"
        style="width: 100%; display: block"
      />
    </div>
    <div id="content" class="text-block">
      Представьте, что вы находитесь в северной части<br />
      острова Олерон. Над Атлантикой садится солнце. Два или<br />
      три раза Ксолотл с некоторым беспокойством<br />
      оглядывается, и Суи спрашивает его: <br />
      – Что случилось? <br />
      – За нами кто-то идёт, – отвечает Ксолотл.<br />
      <br />
      И вот незнакомец уже в пятидесяти шагах от вас.<br />
      Поняв, что больше нет необходимости скрываться, он<br />
      приближается. По походке видно, что это бывалый моряк.<br />
      Приблизившись так, что его можно расслышать, он<br />
      окликает вас:<br />
      – С вами можно побеседовать?<br />
      – А почему бы и нет? – отвечает Тибо.<br />
      <br />
      Возраст моряка определить довольно трудно, одет он<br />
      бедно, но опрятно. Моряк сразу представляется.<br />
      – Меня зовут Губер, – и, не ожидая ответа, сразу же<br />
      продолжает: – Вы знаете остров Осьминогов?<br />
      – Нет.<br />
      <br />
      Губер машет в сторону горизонта.<br />
      – Это в четырёх милях на запад. На самом деле это не<br />
      так уж и далеко. Несколько часов на лодке. – Говорит он<br />
      хриплым голосом, короткими, словно рублеными,<br />
      фразами, часто опуская глаголы. Словно забыв о вашем<br />
      присутствии, зорко всматриваясь в океан, он продолжает:<br />
      – Странный остров. Это не то место, где проводят<br />
      отпуска. Кругом осьминоги. Огромные и свирепые. Да,<br />
      остров негостеприимный. Там невесело. Вы ничего не<br />
      слышали о ярби?<br />
      – Нет, – снова ответил Тибо.<br />
      <br />
      Он продолжает разговор с Губером. То ли Тибо<br />
      понравился моряк, толи он заинтересовался этим<br />
      странным островом.<br />
      – Ярби, – Губер вздохнул, – это помесь животного и<br />
      робота, я полагаю, очень неудачная помесь. У ярби<br />
      фантастическое чутьё и маленькие смешные ушки. От них<br />
      трудно ускользнуть.<br />
      – А на кого похож этот ярби?<br />
      – Даже не знаю, как и объяснить. Знаете, кто такой<br />
      кентавр?<br />
      – Конечно, кентавр – наполовину лошадь, наполовину<br />
      человек.<br />
      – Ну так вот, ярби чем-то напоминает кентавра. Но<br />
      все его четыре ноги тонкие, как у страуса, а туловище и<br />
      руки – как у гориллы. А нюх как у настоящей собаки. Не<br />
      очень-то приятно встретить такого…<br />
      <br />
      Губер наконец перестал вглядываться в океан и,<br />
      внезапно повернувшись, смотрит по очереди на каждого<br />
      из вас, стараясь угадать ваши мысли. Потом спрашивает:<br />
      – Вы боитесь острова Осьминогов?<br />
      <br />
      Тибо едва заметно вздрагивает. Он не очень-то любит,<br />
      когда подозревают, что он чего-то или кого-то боится.<br />
      Однако, не показывая вида, он спокойно отвечает:<br />
      – Нет. Но какой смысл нам туда ехать?<br />
      – Маленький мальчик сидит там в заточении. Ему<br />
      двенадцать лет, и зовут его Оллир. Хорошо бы его<br />
      освободить. Конечно, это опасно. Очень опасно.<br />
      – А почему вы сами-то туда не отправитесь?<br />
      <br />
      Губер пожимает плечами, но без колебания отвечает:<br />
      – Я уже очень стар. В моём возрасте на такие<br />
      путешествия уже не отваживаются. А вы – вы молоды и<br />
      можете рискнуть.<br />
      – Допустим, – говорит Тибо. – Но там, наверное,<br />
      водятся не только ярби?<br />
      – Конечно! Там ещё и ро-монстры…<br />
      <br />
      И Губер объясняет вам, что речь идёт о роботах,<br />
      умеющих и защищаться, и нападать, их специально так<br />
      сконструировали. Так, ро-пёс – это пёс-робот, ро-кошка –<br />
      это кошка, скрещённая с роботом, и так далее. А потом<br />
      Губер протягивает Тибо карту острова Осьминогов.<br />
      – Это поможет вам избежать опасностей. Лучше всего<br />
      на остров высаживаться в Черепашьей бухте, и<br />
      желательно во время прилива.<br />
      – Минутку! – прервал его Тибо. – Мы ещё не сказали,<br />
      что мы туда отправимся.<br />
      <br />
      Суи взяла карту, посмотрела на неё и тут же<br />
      поинтересовалась:<br />
      – А что такое хёли?<br />
      – Ну это просто, – ответил Губер, – это гибрид лисы и<br />
      робота. Но будьте осторожны. Они живут стаями и весьма<br />
      опасны.<br />
      – А Оллир? Известно хотя бы, где его содержат?<br />
      – Да нет. И кажется, его никто не сторожит.<br />
      <br />
      Ксолотл задаёт ещё два-три вопроса, но ответы Губера<br />
      всё так же туманны. Кроме одного.<br />
      – Если вам удастся освободить Оллира, дальше всё<br />
      просто. Вы подадите радиосигнал, и за вами вышлют<br />
      вертолёт. Через час вы уже вернётесь.<br />
      – Хорошо. Но как подать сигнал?<br />
      – А вот. И Губер извлекает из кармана небольшую<br />
      серую коробочку величиной с ладонь. На одной из её<br />
      сторон видна хорошо защищённая малюсенькая красна<br />
      кнопка. Она находится в узком желобке, и нажать на неё<br />
      можно, только специально надавив ногтем.<br />
      – Ну как? – спрашивает Губер. – Вы едете туда или нет?<br />
      <br />
      Все четверо переглядываются. Вы часто оказывались во<br />
      всяких переделках, и поэтому каждый из вас почти<br />
      наверняка знает, о чём сейчас думают трое остальных.<br />
      Чтобы решиться, вам требуется не более десяти секунд, и<br />
      вот уже Тибо отвечает за всех.<br />
      – Мы отправляемся туда, – просто сообщает он.<br />
      <br />
      И Губер, не произнеся больше ни слова, протягивает<br />
      маленькую серую коробочку Ксолотлу.
    </div>
    <div class="choices">
      <button
        class="choice-btn"
        onclick="showBalance()"
      >
        Перейти в <b>Баланс владельца чата</b><br />
      </button>
      <button class="choice-btn" onclick="exploreIsland()">
        Исследовать остров 🌴<br />
      </button>
    </div>

    <script>
      // Инициализация Telegram WebApp
      const tg = window.Telegram.WebApp;
      
      // Функция для отображения информации о пользователе
      function displayUserInfo() {
        const user = tg.initDataUnsafe.user;
        let userInfo = '';
        
        if (user) {
          const username = user.username 
            ? '@' + user.username 
            : user.first_name + (user.last_name ? ' ' + user.last_name : '');
          
          userInfo = `
            Игрок: <b>${username}</b><br>
            ID: ${user.id}
          `;
        } else {
          userInfo = 'Гость';
        }
        
        document.getElementById('userInfo').innerHTML = userInfo;
      }
      
      // Функции для кнопок
      function showBalance() {
        tg.showAlert('Баланс владельца чата: 8968.7₽');
      }
      
      function exploreIsland() {
        tg.showAlert('Вы выбрали исследовать остров Осьминогов! Удачи в приключении!');
      }
      
      // Инициализация приложения
      tg.ready();
      tg.expand(); // Развернуть на весь экран
      
      // Показать кнопку "Закрыть"
      tg.MainButton.setParams({
        text: 'ЗАКРЫТЬ',
        color: '#0088cc'
      }).show();
      
      tg.MainButton.onClick(() => {
        tg.close();
      });
      
      // Отображаем информацию о пользователе при загрузке
      document.addEventListener('DOMContentLoaded', displayUserInfo);
    </script>
  </body>
</html>